<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>Cantón San Ramón de Alajuela</title>

<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.5/leaflet.css"/>
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css">
<link rel="stylesheet" href = "http://watson.lennardvoogdt.nl/Leaflet.awesome-markers/dist/leaflet.awesome-markers.css">
<link rel="stylesheet" href = "http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"> 

<!--[if lte IE 8]>
<link rel="stylesheet" href="http://cdn.leafletjs.com/
leaflet-0.5/leaflet.ie.css" />
<![endif]

<link  rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">

-->

<style type="text/css">
#map { width: 800px; height: 600px }
.awesome-marker {
background: url("https://raw.github.com/lvoogdt/Leaflet.awesome-markers/
master/dist/images/markers-soft.png") no-repeat 0 0;
width: 35px; height: 46px;
position:absolute;
left:0; top:0;
display: block;
text-align: center;
}
.awesome-marker-shadow {
background: url("https://raw.github.com/lvoogdt/Leaflet.awesome-markers/
master/dist/images/markers-shadow.png") no-repeat 0 0;
width: 36px; height: 16px;
}
.awesome-marker i {
color: #333; margin-top: 10px;
display: inline-block; font-size: 14px;
}
.awesome-marker .icon-white { color: #fff; }
.awesome-marker-icon-red { background-position: 0 0; }
.awesome-marker-icon-darkred { background-position: -180px 0; }
.awesome-marker-icon-orange { background-position: -36px 0; }
.awesome-marker-icon-green { background-position: -72px 0; }
.awesome-marker-icon-darkgreen { background-position: -252px 0; }
.awesome-marker-icon-blue { background-position: -108px 0; }
.awesome-marker-icon-darkblue { background-position: -216px 0; }
.awesome-marker-icon-purple { background-position: -144px 0; }
.awesome-marker-icon-darkpurple { background-position: -288px 0; }
.awesome-marker-icon-cadetblue { background-position: -324px 0; }
</style>
</head>
<body>
<div id="map"></div>
<script src="http://cdn.leafletjs.com/leaflet-0.5/leaflet.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
<script src="https://raw.github.com/lvoogdt/Leaflet.awesome-markers/master/dist/leaflet.awesome-markers.js"></script>
<script src="http://watson.lennardvoogdt.nl/Leaflet.awesome-markers/dist/leaflet.awesome-markers.js"> </script>

<script type="text/javascript">


var restaurantesMarker = L.AwesomeMarkers.icon({icon: 'cutlery', prefix: 'fa', markerColor: 'red'});
var escuelasMarker = L.AwesomeMarkers.icon({icon: 'mortar-board', prefix: 'fa', markerColor: 'purple'});
var bancosMarker = L.AwesomeMarkers.icon({icon: 'bank', prefix: 'fa', markerColor: 'darkblue'});
var telefonosMarker = L.AwesomeMarkers.icon({icon: 'phone', prefix: 'fa', markerColor: 'darkred'});
var hospitalMarker = L.AwesomeMarkers.icon({icon: 'hospital-o', prefix: 'fa', markerColor: 'gray'});
var farmaciasMarker = L.AwesomeMarkers.icon({icon: 'medkit', prefix: 'fa', markerColor: 'blue'});
var ambulanciasMarker = L.AwesomeMarkers.icon({icon: 'ambulance', prefix: 'fa', markerColor: 'blue'});
var paradasMarker = L.AwesomeMarkers.icon({icon: 'truck', prefix: 'fa', markerColor: 'green'});
var puentesMarker = L.AwesomeMarkers.icon({icon: 'xing', prefix: 'fa', markerColor: 'cadetblue'});
var comerciosMarker = L.AwesomeMarkers.icon({icon: 'building-o', prefix: 'fa', markerColor: 'orange'});

function onEachDistrito(feature, layer) {
layer.bindPopup("<b>Distrito: </b>"+feature.properties.DISTRITO+"<br> </br>"+"<b>Población de Hombres: </b>"+ feature.properties.POB_2000_H +"<br> </br>"+"<b>Población de Mujeres: </b>"+ feature.properties.POB_2000_M +"<br> </br>"+"<b>Hectáreas: </b>"+feature.properties.HECTARES);
};

function onEachEscuela(feature, layer) {
layer.bindPopup("<b>Nombre: </b>"+feature.properties.Nombre +"<br> </br>"+"<b>Distrito: </b>"+feature.properties.NDISTRITO);
};

function onEachFeature3(feature, layer) {
layer.bindPopup("<b>Tipo: </b>"+feature.properties.TIPO);
};

function onEachRestaurante(feature, layer) {
layer.bindPopup("<b>Nombre: </b>"+feature.properties.Nombre+"<br> </br>"+"<b>ID: </b>"+feature.properties.cat);
};

function onEachIglesia(feature, layer) {
layer.bindPopup("<b>Nombre: </b>"+feature.properties.Nombre +"<br> </br>"+"<b>Distrito: </b>"+feature.properties.NDISTRITO);
};

function onEachVoronoi(feature, layer) {
layer.bindPopup("<b>Nombre: </b>"+feature.properties.NOMBRE +"<br> </br>"+"<b>Distrito: </b>"+feature.properties.NDISTRITO);
};

function onEachFeature6(feature, layer) {
layer.bindPopup("<b>Nombre: </b>"+feature.properties.nombre +"<br> </br>"+"<b>Edificio: </b>"+feature.properties.edificio +"<br> </br>"+"<b>Plaza más cercana: </b>"+feature.properties.id_plaza);
};

function onEachParada(feature, layer) {
layer.bindPopup("<b>Nombre: </b>"+feature.properties.TipoServic +"<b>Teléfono más cercano: </b>"+feature.properties.cercano );
};

function onEachPuente(feature, layer) {
layer.bindPopup("<b>Nombre: </b>"+feature.properties.Nombre);
};

function onEachComercio(feature, layer) {
layer.bindPopup("<b>Comercio: </b>"+feature.properties.Nombre +"<br> </br>"+"<b>Servicio: </b>"+feature.properties.TipoServic);
};

function onEachSalud(feature, layer) {
layer.bindPopup(feature.properties.nombre);
};

function onEachRestauranteXBanco(feature, layer) {
layer.bindPopup("<b>Nombre: </b>"+feature.properties.Nombre +"<br> </br>"+"<b>Banco mas cercano: </b>"+feature.properties.Nombre_2);
};

function onEachBanco(feature, layer) {
layer.bindPopup("<b>Nombre: </b>"+feature.properties.Nombre);
};

function onEachTelefono(feature, layer) {
layer.bindPopup("<b>ID Teléfono: </b>"+feature.properties.cat);
};

function onEachParque(feature, layer) {
layer.bindPopup("<b>Nombre: </b>"+feature.properties.Nombre +"<br> </br>"+"<b> Tipo : </b>"+feature.properties.Tipo_Insta);
};

function pointToLayerRestaurantes(feature, latlng) {
return L.marker(latlng, {icon: restaurantesMarker});
};

function pointToLayerSalud(feature, latlng) {
return L.marker(latlng, {icon: farmaciasMarker});
};

function pointToLayerEscuelasXPlaza(feature, latlng) {
return L.marker(latlng, {icon: escuelasMarker});
};

function pointToLayerParadasXTelefonos(feature, latlng) {
return L.marker(latlng, {icon: paradasMarker});
};

function pointToLayerPuentesXDistrito(feature, latlng) {
return L.marker(latlng, {icon: puentesMarker});
};

function pointToLayerComerciosXLocalidad(feature, latlng) {
return L.marker(latlng, {icon: comerciosMarker});
};

function pointToLayerBancos(feature, latlng) {
return L.marker(latlng, {icon: bancosMarker});
};

function pointToLayerTelefonosPublicos(feature, latlng) {
return L.marker(latlng, {icon: telefonosMarker});
};


var xhr = new XMLHttpRequest() || new ActiveXObject("Msxml2.XMLHTTP")
|| new ActiveXObject("Microsoft.XMLHTTP");

xhr.open('GET','Capas/Distritos.geojson',false);
xhr.send(null);
var SanRamonDistrito = JSON.parse(xhr.responseText);

xhr.open('GET','Capas/Rios.geojson',false);
xhr.send(null);
var Rios = JSON.parse(xhr.responseText);

xhr.open('GET','Capas/RedCaminos.geojson',false);
xhr.send(null);
var Calles = JSON.parse(xhr.responseText);


xhr.open('GET','Capas/Restaurantes.geojson',false);
xhr.send(null);
var Restaurantes = JSON.parse(xhr.responseText);		

xhr.open('GET','Capas/ServicioSalud.geojson',false);
xhr.send(null);
var Salud = JSON.parse(xhr.responseText);

xhr.open('GET','Capas/IglesiasDistrito.geojson',false);
xhr.send(null);
var IglesiasDistrito = JSON.parse(xhr.responseText);	

xhr.open('GET','Capas/EscuelasDistrito.geojson',false);
xhr.send(null);
var EscuelasDistrito = JSON.parse(xhr.responseText);


xhr.open('GET','Capas/Puentes.geojson',false);
xhr.send(null);
var Puentes = JSON.parse(xhr.responseText);

xhr.open('GET','Capas/PoblacionVoronoi.geojson',false);
xhr.send(null);
var PoblacionVoronoi = JSON.parse(xhr.responseText);

xhr.open('GET','Capas/Comercio.geojson',false);
xhr.send(null);
var Comercio = JSON.parse(xhr.responseText);

xhr.open('GET','Capas/BancosXRestaurantes.geojson',false);
xhr.send(null);
var BancosXRestaurantes = JSON.parse(xhr.responseText);

xhr.open('GET','Capas/Bancos.geojson',false);
xhr.send(null);
var Bancos = JSON.parse(xhr.responseText);

xhr.open('GET','Capas/TelefonosPublicos.geojson',false);
xhr.send(null);
var TelefonosPublicos = JSON.parse(xhr.responseText);

xhr.open('GET','Capas/ParquesyPlazas.geojson',false);
xhr.send(null);
var ParquesYPlazas = JSON.parse(xhr.responseText);

xhr.open('GET','Capas/Paradas.geojson',false);
xhr.send(null);
var Paradas = JSON.parse(xhr.responseText);

var styleDistritos = {
"color": "#009933",
"weight": 5,
"opacity": 0.65
};


var styleCalles = {
"color": "#660033",
"weight": 1,
"opacity": 0.65
};

var styleRios = {
"color": "#0033FF",
"weight": 1,
"opacity": 0.65
};



var styleIglesiasDistrito = {
"color": "#993399",
"weight": 4,
"opacity": 0.65
};

var styleEscuelasDistrito = {
"color": "#FFCC00",
"weight": 4,
"opacity": 0.65
};

var stylePoblacionVoronoi = {
"color": "#FF3399",
"weight": 3,
"opacity": 0.65
};

var styleParquesYPlazas = {
"color": "#009999",
"weight": 4,
"opacity": 0.65
};


var SanRamonDistritoLayer = L.geoJson(SanRamonDistrito, {
style: styleDistritos, onEachFeature: onEachDistrito
});

var RiosLayer = L.geoJson(Rios, {
style: styleRios
});

var CallesLayer = L.geoJson(Calles, {
style: styleCalles
});

var RestaurantesLayer = L.geoJson(Restaurantes, {
pointToLayer: pointToLayerRestaurantes, onEachFeature: onEachRestaurante
});

var SaludLayer = L.geoJson(Salud, {
pointToLayer: pointToLayerSalud, onEachFeature: onEachSalud
});

var IglesiasDistritoLayer = L.geoJson(IglesiasDistrito, {
style: styleIglesiasDistrito, onEachFeature: onEachIglesia
});

var EscuelasDistritoLayer = L.geoJson(EscuelasDistrito, {
style: styleEscuelasDistrito, onEachFeature: onEachEscuela
});


var ParadasLayer = L.geoJson(Paradas, {
pointToLayer: pointToLayerParadasXTelefonos, onEachFeature: onEachParada
});

var PuentesLayer = L.geoJson(Puentes, {
pointToLayer: pointToLayerPuentesXDistrito, onEachFeature: onEachPuente
});

var PoblacionVoronoiLayer = L.geoJson(PoblacionVoronoi, {
style: stylePoblacionVoronoi, onEachFeature: onEachVoronoi
});

var ComercioLayer = L.geoJson(Comercio, {
pointToLayer: pointToLayerComerciosXLocalidad, onEachFeature: onEachComercio
});

var BancosXRestaurantesLayer = L.geoJson(BancosXRestaurantes, {
pointToLayer: pointToLayerRestaurantes, onEachFeature: onEachRestauranteXBanco
});
var BancosLayer = L.geoJson(Bancos, {
pointToLayer: pointToLayerBancos, onEachFeature: onEachBanco
});

var TelefonosPublicosLayer = L.geoJson(TelefonosPublicos, {
pointToLayer: pointToLayerTelefonosPublicos, onEachFeature: onEachTelefono
});

var ParquesYPlazasLayer = L.geoJson(ParquesYPlazas, {
style: styleParquesYPlazas, onEachFeature: onEachParque
});

var map = L.map("map", {
center: new L.LatLng(10.08574, -84.46778),
zoom: 11,
layers: [SanRamonDistritoLayer,RiosLayer,CallesLayer,RestaurantesLayer,SaludLayer, IglesiasDistritoLayer,EscuelasDistritoLayer,
		ParadasLayer,PuentesLayer,PoblacionVoronoiLayer,ComercioLayer,BancosXRestaurantesLayer,BancosLayer,TelefonosPublicosLayer,ParquesYPlazasLayer]
});

L.tileLayer('https://{s}.tiles.mapbox.com/v3/{id}/{z}/{x}/{y}.png', {
			maxZoom: 18,
			attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
				'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
				'Imagery © <a href="http://mapbox.com">Mapbox</a>',
			id: 'examples.map-i86knfo3'
		}).addTo(map);


var overlayMaps = {
"<img src='https://cdn1.iconfinder.com/data/icons/prettyoffice9/256/pentagon.png' height=13> Distritos San Ramon": SanRamonDistritoLayer,
"<img src='https://cdn1.iconfinder.com/data/icons/prettyoffice9/256/pentagon.png' height=13> Poblaciones Thiessen X Distritos": PoblacionVoronoiLayer,
"<img src='https://cdn1.iconfinder.com/data/icons/prettyoffice9/256/pentagon.png' height=13> Iglesias X Distrito": IglesiasDistritoLayer,
"<img src='https://cdn1.iconfinder.com/data/icons/prettyoffice9/256/pentagon.png' height=13> Escuelas y Colegios X Distrito": EscuelasDistritoLayer,
"<img src='https://cdn1.iconfinder.com/data/icons/prettyoffice9/256/pentagon.png' height=13> Parques y Plazas": ParquesYPlazasLayer,
"<img src='http://www.clker.com/cliparts/0/f/3/2/1194994615287196054line.svg.hi.png' height=13> Ríos": RiosLayer,
"<img src='http://www.clker.com/cliparts/0/f/3/2/1194994615287196054line.svg.hi.png' height=13> Calles": CallesLayer,
"<img src='https://cdn0.iconfinder.com/data/icons/3D-shapes-psd/128/ball-1x1.png' height=13> Salud": SaludLayer,
"<img src='https://cdn0.iconfinder.com/data/icons/3D-shapes-psd/128/ball-1x1.png' height=13> Restaurantes": RestaurantesLayer,
"<img src='https://cdn0.iconfinder.com/data/icons/3D-shapes-psd/128/ball-1x1.png' height=13> Bancos X Restaurantes": BancosXRestaurantesLayer,
"<img src='https://cdn0.iconfinder.com/data/icons/3D-shapes-psd/128/ball-1x1.png' height=13> Bancos": BancosLayer,
"<img src='https://cdn0.iconfinder.com/data/icons/3D-shapes-psd/128/ball-1x1.png' height=13> Telefonos Publicos": TelefonosPublicosLayer,
"<img src='https://cdn0.iconfinder.com/data/icons/3D-shapes-psd/128/ball-1x1.png' height=13> Paradas X Telefonos": ParadasLayer,
"<img src='https://cdn0.iconfinder.com/data/icons/3D-shapes-psd/128/ball-1x1.png' height=13> Puentes ": PuentesLayer,
"<img src='https://cdn0.iconfinder.com/data/icons/3D-shapes-psd/128/ball-1x1.png' height=13> Comercios": ComercioLayer
};

L.control.layers(null, overlayMaps).addTo(map);

L.control.scale().addTo(map);

var popup = L.popup();

function onMapClick(e) {
popup
.setLatLng(e.latlng)
.setContent("Posición en el mapa:" + e.latlng.toString())
.openOn(map);
}

map.on('click', onMapClick);
</script>
</body>
</html>